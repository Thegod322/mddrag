# Documentation RAG MCP Server

–°–µ—Ä–≤–µ—Ä Model Context Protocol (MCP) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å RAG (Retrieval-Augmented Generation) –Ω–∞ –±–∞–∑–µ –º–æ–¥—É–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–∑ Obsidian Canvas.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìä **–ü–∞—Ä—Å–∏–Ω–≥ Canvas —Ñ–∞–π–ª–æ–≤**: –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Obsidian Canvas —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ü–≤–µ—Ç–æ–≤–æ–≥–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —É–∑–ª–æ–≤
- üîç **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫**: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- üìÅ **–ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–æ–≤ –∏–∑ Obsidian vault
- üé® **–ú–æ–¥—É–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —É–∑–ª–∞–º–∏

## –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ —É–∑–ª–æ–≤

- **–ë–µ–∑ —Ü–≤–µ—Ç–∞ (0)**: –†–µ—Ñ–µ—Ä–µ–Ω—Å –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–ª–∏ –±–ª–æ–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **–ö—Ä–∞—Å–Ω—ã–π (1)**: –°—É—â–Ω–æ—Å—Ç—å / –ö–ª–∞—Å—Å / –°—Ç—Ä–∞–Ω–∏—Ü–∞
- **–û—Ä–∞–Ω–∂–µ–≤—ã–π (2)**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- **–ñ–µ–ª—Ç—ã–π (3)**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è  
- **–°–∏–Ω–∏–π (4)**: –î–µ–π—Å—Ç–≤–∏–µ / –ö–Ω–æ–ø–∫–∞ / –ü–µ—Ä–µ—Ö–æ–¥
- **–ì–æ–ª—É–±–æ–π (5)**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- **–§–∏–æ–ª–µ—Ç–æ–≤—ã–π (6)**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.8+

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
cd C:\ClaudeHub\MCP\DoumentationRag
pip install -e .
```

3. –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä—è–º—É—é:
```bash
pip install mcp chromadb sentence-transformers pydantic
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MCP

–î–æ–±–∞–≤—å—Ç–µ —Å–µ—Ä–≤–µ—Ä –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Claude Desktop (`claude_desktop_config.json`):

```json
{
  "mcpServers": {
    "documentation-rag": {
      "command": "python",
      "args": ["-m", "documentation_rag.server"],
      "cwd": "C:\\ClaudeHub\\MCP\\DoumentationRag\\src"
    }
  }
}
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –º–æ–¥—É–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

```python
# –ü–∞—Ä—Å–∏–Ω–≥ Canvas —Ñ–∞–π–ª–∞
get_modular_documentation(
    vault_path="C:\\Path\\To\\Your\\Obsidian\\Vault",
    canvas_file="project.canvas"
)
```

### 2. –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

```python
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞
get_file_content(
    vault_path="C:\\Path\\To\\Your\\Obsidian\\Vault", 
    file_path="docs/readme.md"
)
```

### 3. –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

```python
# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞
index_documentation(
    vault_path="C:\\Path\\To\\Your\\Obsidian\\Vault",
    force_reindex=False
)
```

### 4. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫

```python
# –ü–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
search_documentation(
    query="–∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å natal chart",
    vault_path="C:\\Path\\To\\Your\\Obsidian\\Vault",
    limit=5
)
```

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å Claude

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MCP –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ –¥–∏–∞–ª–æ–≥–µ —Å Claude:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Canvas —Ñ–∞–π–ª–µ project.canvas

Claude: –Ø –ø–æ–º–æ–≥—É –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç. –°–Ω–∞—á–∞–ª–∞ –º–Ω–µ –Ω—É–∂–Ω–æ –ø—É—Ç—å –∫ –≤–∞—à–µ–º—É Obsidian vault.

[–ò—Å–ø–æ–ª—å–∑—É–µ—Ç get_modular_documentation –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ Canvas]
[–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —É–∑–ª–æ–≤ –∏ —Å–≤—è–∑–µ–π]
[–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞]
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
DoumentationRag/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ documentation_rag/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ server.py          # –û—Å–Ω–æ–≤–Ω–æ–π MCP —Å–µ—Ä–≤–µ—Ä
‚îÇ       ‚îú‚îÄ‚îÄ canvas_parser.py   # –ü–∞—Ä—Å–µ—Ä Canvas —Ñ–∞–π–ª–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ rag_engine.py      # RAG –¥–≤–∏–∂–æ–∫ —Å ChromaDB
‚îú‚îÄ‚îÄ pyproject.toml
‚îî‚îÄ‚îÄ README.md
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **ChromaDB** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤
- –ú–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤: `all-MiniLM-L6-v2` (–±—ã—Å—Ç—Ä–∞—è –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è)
- –ò–Ω–¥–µ–∫—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–∞–ø–∫–µ `.rag_index` –≤–Ω—É—Ç—Ä–∏ vault

### –ß–∞–Ω–∫–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã
- –£–º–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞–º –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —á–∞–Ω–∫–∞: 1000 —Å–∏–º–≤–æ–ª–æ–≤

### –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏
- –£–∑–ª—ã –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è —Å —É—á–µ—Ç–æ–º –∏—Ö —Å–≤—è–∑–µ–π –∏ —Ç–∏–ø–∞
- –í–∫–ª—é—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ü–≤–µ—Ç–æ–≤–æ–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "ModuleNotFoundError: No module named 'mcp'"
```bash
pip install mcp
```

### –ü—Ä–æ–±–ª–µ–º–∞: "ChromaDB connection error"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ vault –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–µ `.rag_index`

### –ü—Ä–æ–±–ª–µ–º–∞: "Canvas file not found"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç—å –∫ vault —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Canvas —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
git clone <repository>
cd DoumentationRag
pip install -e ".[dev]"
```

–î–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞:
```bash
black src/
```

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤:
```bash
mypy src/
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ LICENSE.
